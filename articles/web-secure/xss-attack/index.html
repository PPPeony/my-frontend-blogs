<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>xss攻击 | 我的前端小窝</title>
    <meta name="description" content="用来记录自己在前端上的学习">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.C78ouPi0.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DnVtHS9h.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BbZoRS6y.js">
    <link rel="modulepreload" href="/assets/chunks/framework.p2VkXzrt.js">
    <link rel="modulepreload" href="/assets/articles_web-secure_xss-attack_index.md.HpXxhUeS.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>我的前端小窝</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/readme.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/markdown-examples.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Docs</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/PPPeony/my-frontend-blogs" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/PPPeony/my-frontend-blogs" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><!----><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/readme.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>你好👋</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>HTML</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/html/html5.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>HTML 5</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>JavaScript</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/javascript/closure.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>闭包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/javascript/scope-and-excution-stack.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>作用域和执行栈</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/javascript/prototype-and-extend.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>原型与继承</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/javascript/garbage-collection.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>垃圾回收</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/javascript/this.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>this指向问题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>CSS</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/css/center-layout.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>居中布局</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/css/flex-layout.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>flex布局</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/css/reponsive-layout.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>响应式</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>浏览器</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/browser/render-mechanism.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>渲染机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/browser/event-loop.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>事件循环</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/browser/browser-cache.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>浏览器缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/browser/cors-resolve.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>跨域处理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>开发框架</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><section class="VPSidebarItem level-1" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>vue</h3><!----></div><div class="items" data-v-b7550ba0><!--[--><section class="VPSidebarItem level-2" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h4 class="text" data-v-b7550ba0>源码解析</h4><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/vuereactive-system.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>响应式系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/vuediff-algorithm.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>diff算法</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>构建工具</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/build-tools/webpack.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>webpack</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/build-tools/vite.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>vite</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Node</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/node/package-json.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>项目里的package.json到底是干什么的</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/node/commonjs.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>commonjs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/node/event-loop.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>事件循环</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/node/koa.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>后端框架koa</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>常见的业务需求</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/big-file-upload.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>大文件上传</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/list-lazy-load.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>懒加载列表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/browser-footprint.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>浏览器指纹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/sheetjs-introduce.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>处理excel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/theme-toggle.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>主题色切换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/search-input.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>搜索框</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>应用安全</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/web-secure/comprehensive-solution.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>综合方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/web-secure/xss-attack.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>xss攻击</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/web-secure/crsf-attack.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>crsf攻击</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>工作踩坑</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/work-traps/wxmp-dev-tool.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>微信小程序开发者工具</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/work-traps/not-display-in-tobao-miniprogram.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>淘宝小程序加载sdk有问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/work-traps/node-sass.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>node-sass需要依赖的python环境无法安装</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>英语学习</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/english-leanringlearning-methods.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>学习方法</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>vscode配置</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/articles/vscodeindex.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>好用的vsode插件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _articles_web-secure_xss-attack_" data-v-39a288b8><div><h1 id="xss攻击" tabindex="-1">xss攻击 <a class="header-anchor" href="#xss攻击" aria-label="Permalink to &quot;xss攻击&quot;">​</a></h1><h3 id="_1-什么是xss攻击" tabindex="-1">1. 什么是xss攻击 <a class="header-anchor" href="#_1-什么是xss攻击" aria-label="Permalink to &quot;1. 什么是xss攻击&quot;">​</a></h3><blockquote><p>Cross-site scripting (XSS) is a security exploit which allows an attacker to inject into a website malicious client-side code. This code is executed by the victims and lets the attackers bypass access controls and impersonate users. According to the Open Web Application Security Project, XSS was the seventh most common Web app vulnerability in 2017.</p></blockquote><blockquote><p>These attacks succeed if the Web app does not employ enough validation or encoding. The user&#39;s browser cannot detect the malicious script is untrustworthy, and so gives it access to any cookies, session tokens, or other sensitive site-specific information, or lets the malicious script rewrite the HTML content.</p></blockquote><p>翻译一下: 就是你的网站的客户端代码里注入且执行了未知来源或者不被信任的恶意代码。这通常发生在对用户输入没有做足够的验证和编码情况。 ⚠️ 一定要对进入系统的数据敏感，来源可能是客户端，也可能是其他的服务。</p><h3 id="_2-xss的注入方法和检测" tabindex="-1">2. xss的注入方法和检测 <a class="header-anchor" href="#_2-xss的注入方法和检测" aria-label="Permalink to &quot;2. xss的注入方法和检测&quot;">​</a></h3><p><strong>1. xss有哪些注入的方法：</strong></p><ul><li>在 HTML 中内嵌的文本中，恶意内容以 script 标签形成注入。</li><li>在内联的 JavaScript 中，拼接的数据突破了原本的限制（字符串，变量，方法名等）。</li><li>在标签属性中，恶意内容包含引号，从而突破属性值的限制，注入其他属性或者标签。</li><li>在标签的 href、src 等属性中，包含 javascript: 等可执行代码。</li><li>在 onload、onerror、onclick 等事件中，注入不受控制代码。</li><li>在 style 属性和标签中，包含类似 background-image:url(&quot;javascript:...&quot;); 的代码（新版本浏览器已经可以防范）。</li><li>在 style 属性和标签中，包含类似 expression(...) 的 CSS 表达式代码（新版本浏览器已经可以防范）。</li></ul><p><strong>2. xss的检测</strong></p><ol><li>手动注入。在网站的各输入框中提交这个字符串，或者把它拼接到 URL 参数上，就可以进行检测了。</li></ol><blockquote><p>jaVasCript:/<em>-/</em><code>/*\</code>/<em>&#39;/</em>&quot;/**/(/* */oNcliCk=alert() )//%0D%0A%0d%0a//&lt;/stYle/&lt;/titLe/&lt;/teXtarEa/&lt;/scRipt/--!&gt;\x3csVg/&lt;sVg/oNloAd=alert()//&gt;\x3e</p></blockquote><ol start="2"><li>自动扫描工具寻找 XSS 漏洞，例如 Arachni、Mozilla HTTP Observatory、w3af、strike。 <span style="color:transparent;">（todo：等我学了补充上这一块的知识）</span></li></ol><h3 id="_3-xss攻击分类" tabindex="-1">3. xss攻击分类 <a class="header-anchor" href="#_3-xss攻击分类" aria-label="Permalink to &quot;3. xss攻击分类&quot;">​</a></h3><p>XSS 攻击可以分为三类：存储（也称为持久）、反射（也称为非持久）或基于 DOM。</p><p><strong>存储型 XSS 攻击</strong></p><p>注入的攻击脚本永久的存储在目标服务器上。当浏览器发送数据请求时，，网站服务端将恶意代码从数据库取出，拼接在 HTML 中返回给浏览器。用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行。恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。</p><p>场景：比如在掘金的发文章的时候，故意文章里增加一个 script 标签，如果后台没有对文章的里内容做检查，当文章保存到数据库的时候，script 标签也被保存了。当文章发布后被其他的掘友看到，文章里的script标签被浏览器解析，其中的代码就会被执行。</p><p>这种类型的xss攻击危害挺大的，如果数据是公共的，所有读取了该系统的数据都可能受到攻击。</p><p><strong>反射型 XSS 攻击</strong></p><p>攻击者构造出特殊的 URL，其中包含恶意代码。用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器。用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行。 恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。</p><p>反射型 XSS 漏洞常见于通过 URL 传递参数的功能，如网站搜索、跳转等。</p><p><strong>基于 DOM 的 XSS 攻击</strong> 其是指通过修改原始客户端脚本所使用的 DOM 环境（在受害者浏览器中）而执行的。也就是说，页面本身没有改变，但是页面中包含的客户端代码由于对 DOM 环境的恶意修改而以期望之外的方式运行。</p><p>场景：比如，我的工作中有多个业务场景需要给客户他们发送链接，期望他们打开填写个人信息。然后这些下发链接的业务场景是有区别的，所以一般去要后端设置参数的不同值来做区分。如果前端直接就拿后端传的值插入到页面中，不检验内容是否有恶意代码的话，很容易收到xss攻击的。 然后，浏览器插件和第三方库都可能导致xss攻击。</p><h3 id="_4-xss攻击防范" tabindex="-1">4. xss攻击防范 <a class="header-anchor" href="#_4-xss攻击防范" aria-label="Permalink to &quot;4. xss攻击防范&quot;">​</a></h3><p>防范xss攻击的核心就是对输入和输出进行过滤。</p><p>我这里画了一张图来解释xss攻击和防范。 <img src="/assets/image.BqKlrvO2.png" alt="alt text"></p><p>具体的手段有:</p><ul><li><p>输入阶段</p><ul><li>对于明确的输入类型，例如数字、URL、电话号码、邮件地址等等内容，进行输入过滤还是必要的。</li><li>限制内容长度控制。对于不受信任的输入，都应该限定一个合理的长度。虽然无法完全防止 XSS 发生，但可以增加 XSS 攻击的难度。</li><li>waf拦截。<span style="color:transparent;">（todo：等我学了补充上这一块的知识）</span></li></ul></li><li><p>输出阶段</p><ol><li>限制执行</li></ol><ul><li>改成纯前端渲染，把代码和数据分隔开，意思就是后端的返回里不能包含html的元素。而且注意避免 DOM 型 XSS 漏洞。</li><li>使用xssjs或者dompurify等库对输出数据进行转义或者过滤。</li><li>配置csp。(csp可以设置在html上也可以设置在请求头上，建议弄在请求头上，不然开发的时候很不方便。)</li><li>waf拦截。</li></ul><ol start="2"><li>限制获取敏感数据</li></ol><ul><li>HTTP-only Cookie: 禁止 JavaScript 读取某些敏感 Cookie，攻击者完成 XSS 注入后也无法窃取此 Cookie。</li><li>验证码：防止脚本冒充用户提交危险操作。</li></ul></li></ul><h3 id="_5-参考" tabindex="-1">5. 参考 <a class="header-anchor" href="#_5-参考" aria-label="Permalink to &quot;5. 参考&quot;">​</a></h3><p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting" target="_blank" rel="noreferrer">https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting</a><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank" rel="noreferrer">https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP</a><a href="https://juejin.cn/post/6844903685122703367?searchId=202411221019020649E06AD4DD096B9647%EF%BC%88%E5%A2%99%E8%A3%82%E6%8E%A8%E8%8D%90%E5%8E%BB%E7%9C%8B%E7%BE%8E%E5%9B%A2%E6%8A%80%E6%9C%AF%E5%9B%A2%E9%98%9F%E7%9A%84%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%EF%BC%8C%E6%AF%94%E8%BE%83%E8%AF%A6%E5%B0%BD%EF%BC%89" target="_blank" rel="noreferrer">https://juejin.cn/post/6844903685122703367?searchId=202411221019020649E06AD4DD096B9647（墙裂推荐去看美团技术团队的这篇文章，比较详尽）</a></p><h3 id="_6-其他" tabindex="-1">6. 其他 <a class="header-anchor" href="#_6-其他" aria-label="Permalink to &quot;6. 其他&quot;">​</a></h3><p>画图工具 <a href="https://excalidraw.com/" target="_blank" rel="noreferrer">https://excalidraw.com/</a></p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/readme.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>你好👋</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"articles_browser_browser-cache_index.md\":\"C__EjDHU\",\"articles_browser_cors-resolve_index.md\":\"CLwdMgm-\",\"articles_browser_event-loop_index.md\":\"C96NCxw2\",\"articles_browser_render-mechanism_index.md\":\"CAznOhBK\",\"articles_build-tools_vite_index.md\":\"DYnBWBQ1\",\"articles_build-tools_webpack_index.md\":\"LZByE05z\",\"articles_common-requirements_browser-footprint_index.md\":\"C5NQ28jW\",\"articles_common-requirements_list-lazy-load_index.md\":\"CtRuE7J1\",\"articles_common-requirements_search-input_index.md\":\"CVZ77sV8\",\"articles_common-requirements_sheetjs-introduce_index.md\":\"J5bOwA5C\",\"articles_common-requirements_theme-toggle_index.md\":\"BBVXtS4N\",\"articles_common-requirements_upload-big-file_index.md\":\"DD8xICH3\",\"articles_css_center-layout_index.md\":\"BQR_Hx-L\",\"articles_css_flex-layout_index.md\":\"CHFc7RHS\",\"articles_english-learning_learning-methods_index.md\":\"BC6O1QqM\",\"articles_framework_vue_diff-algorithm_index.md\":\"DfyEU_K4\",\"articles_framework_vue_reactive-system_index.md\":\"BZFzJfxH\",\"articles_html_html5_index.md\":\"DzO96oPL\",\"articles_javascript_closure_index.md\":\"CMTQoxtF\",\"articles_javascript_garbage-collection_index.md\":\"7I-AMc2Q\",\"articles_javascript_prototype-and-inherit_index.md\":\"Du369HD_\",\"articles_javascript_scope-and-excution-stack_index.md\":\"QoO1fOUW\",\"articles_javascript_this_index.md\":\"dw4mP2OX\",\"articles_node_commonjs_index.md\":\"C308NB9i\",\"articles_node_event-loop_index.md\":\"BN_LU6X5\",\"articles_node_koa_index.md\":\"BYcpZNKE\",\"articles_node_package-json_index.md\":\"CJ6LZMCn\",\"articles_vscode-plugins_index.md\":\"fT-mjWqK\",\"articles_web-secure_comprehensive-solution_index.md\":\"D5IbRK3B\",\"articles_web-secure_crsf-attack_index.md\":\"CG4FIK3u\",\"articles_web-secure_xss-attack_index.md\":\"HpXxhUeS\",\"articles_work-traps_node-sass_index.md\":\"DNf7nkSz\",\"articles_work-traps_not-display-in-tobao-miniprogram_index.md\":\"f9l0lfXQ\",\"articles_work-traps_wxmp-dev-tool_index.md\":\"BCJEoA0m\",\"index.md\":\"BUgOKPRj\",\"readme.md\":\"xV_eMn-t\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"我的前端小窝\",\"description\":\"用来记录自己在前端上的学习\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/readme\"},{\"text\":\"Docs\",\"link\":\"/markdown-examples\"}],\"sidebar\":[{\"text\":\"你好👋\",\"link\":\"/readme\"},{\"text\":\"HTML\",\"base\":\"/articles/html/\",\"items\":[{\"text\":\"HTML 5\",\"link\":\"html5.md\"}]},{\"text\":\"JavaScript\",\"base\":\"/articles/javascript/\",\"items\":[{\"text\":\"闭包\",\"link\":\"closure\"},{\"text\":\"作用域和执行栈\",\"link\":\"scope-and-excution-stack\"},{\"text\":\"原型与继承\",\"link\":\"prototype-and-extend\"},{\"text\":\"垃圾回收\",\"link\":\"garbage-collection\"},{\"text\":\"this指向问题\",\"link\":\"this\"}]},{\"text\":\"CSS\",\"base\":\"/articles/css/\",\"items\":[{\"text\":\"居中布局\",\"link\":\"center-layout\"},{\"text\":\"flex布局\",\"link\":\"flex-layout\"},{\"text\":\"响应式\",\"link\":\"reponsive-layout\"}]},{\"text\":\"浏览器\",\"base\":\"/articles/browser/\",\"items\":[{\"text\":\"渲染机制\",\"link\":\"render-mechanism\"},{\"text\":\"事件循环\",\"link\":\"event-loop\"},{\"text\":\"浏览器缓存\",\"link\":\"browser-cache\"},{\"text\":\"跨域处理\",\"link\":\"cors-resolve\"}]},{\"text\":\"开发框架\",\"base\":\"/articles/framework/\",\"items\":[{\"text\":\"vue\",\"base\":\"vue\",\"items\":[{\"text\":\"源码解析\",\"items\":[{\"text\":\"响应式系统\",\"link\":\"reactive-system\"},{\"text\":\"diff算法\",\"link\":\"diff-algorithm\"}]}]}]},{\"text\":\"构建工具\",\"base\":\"/articles/build-tools/\",\"items\":[{\"text\":\"webpack\",\"link\":\"webpack\"},{\"text\":\"vite\",\"link\":\"vite\"}]},{\"text\":\"Node\",\"base\":\"/articles/node/\",\"items\":[{\"text\":\"项目里的package.json到底是干什么的\",\"link\":\"package-json\"},{\"text\":\"commonjs\",\"link\":\"commonjs\"},{\"text\":\"事件循环\",\"link\":\"event-loop\"},{\"text\":\"后端框架koa\",\"link\":\"koa\"}]},{\"text\":\"常见的业务需求\",\"items\":[{\"text\":\"大文件上传\",\"link\":\"big-file-upload\"},{\"text\":\"懒加载列表\",\"link\":\"list-lazy-load\"},{\"text\":\"浏览器指纹\",\"link\":\"browser-footprint\"},{\"text\":\"处理excel\",\"link\":\"sheetjs-introduce\"},{\"text\":\"主题色切换\",\"link\":\"theme-toggle\"},{\"text\":\"搜索框\",\"link\":\"search-input\"}]},{\"text\":\"应用安全\",\"base\":\"/articles/web-secure/\",\"items\":[{\"text\":\"综合方案\",\"link\":\"comprehensive-solution\"},{\"text\":\"xss攻击\",\"link\":\"xss-attack\"},{\"text\":\"crsf攻击\",\"link\":\"crsf-attack\"}]},{\"text\":\"工作踩坑\",\"base\":\"/articles/work-traps\",\"items\":[{\"text\":\"微信小程序开发者工具\",\"link\":\"/wxmp-dev-tool\"},{\"text\":\"淘宝小程序加载sdk有问题\",\"link\":\"/not-display-in-tobao-miniprogram\"},{\"text\":\"node-sass需要依赖的python环境无法安装\",\"link\":\"/node-sass\"}]},{\"text\":\"英语学习\",\"base\":\"/articles/english-leanring\",\"items\":[{\"text\":\"学习方法\",\"link\":\"learning-methods\"}]},{\"text\":\"vscode配置\",\"base\":\"/articles/vscode\",\"items\":[{\"text\":\"好用的vsode插件\",\"link\":\"index\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/PPPeony/my-frontend-blogs\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>